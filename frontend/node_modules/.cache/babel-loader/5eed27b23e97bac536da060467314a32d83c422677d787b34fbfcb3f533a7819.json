{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, renderList as _renderList, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-434b6d43\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"User Profile\", -1 /* HOISTED */));\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Email:\", -1 /* HOISTED */));\nconst _hoisted_4 = {\n  class: \"blog-post-form\"\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Post a Blog\", -1 /* HOISTED */));\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"title\"\n}, \"Title:\", -1 /* HOISTED */));\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"content\"\n}, \"Content:\", -1 /* HOISTED */));\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\"\n}, \"Submit\", -1 /* HOISTED */));\nconst _hoisted_9 = {\n  class: \"user-posts\"\n};\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Your Posts\", -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_hoisted_1, $data.user ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createElementVNode(\"p\", null, [_hoisted_3, _createTextVNode(\" \" + _toDisplayString($data.user.email), 1 /* TEXT */)])])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.logout && $options.logout(...args))\n  }, \"Logout\"), _createCommentVNode(\" Blog Post Form \"), _createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _createElementVNode(\"form\", {\n    onSubmit: _cache[3] || (_cache[3] = _withModifiers((...args) => $options.submitPost && $options.submitPost(...args), [\"prevent\"]))\n  }, [_hoisted_6, _withDirectives(_createElementVNode(\"input\", {\n    id: \"title\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.postTitle = $event),\n    type: \"text\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.postTitle]]), _hoisted_7, _withDirectives(_createElementVNode(\"textarea\", {\n    id: \"content\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.postContent = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.postContent]]), _hoisted_8], 32 /* HYDRATE_EVENTS */)]), _createCommentVNode(\" User's Posts \"), _createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.posts, post => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: post.id\n    }, [_createElementVNode(\"h3\", null, _toDisplayString(post.title), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString(post.content), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])])]);\n}","map":{"version":3,"names":["_createElementVNode","class","for","type","_createElementBlock","_hoisted_1","$data","user","_hoisted_2","_hoisted_3","_toDisplayString","email","onClick","_cache","args","$options","logout","_createCommentVNode","_hoisted_4","_hoisted_5","onSubmit","_withModifiers","submitPost","_hoisted_6","id","postTitle","$event","required","_hoisted_7","postContent","_hoisted_8","_hoisted_9","_hoisted_10","_Fragment","_renderList","posts","post","key","title","content"],"sources":["/Users/Hamid/Coding/OC/Project07/Aug07 - sqlite/OCproject07/frontend/src/views/UserProfilePage.vue"],"sourcesContent":["<template>\n  <div>\n    <h1>User Profile</h1>\n    <div v-if=\"user\">\n      <p><strong>Email:</strong> {{ user.email }}</p>\n    </div>\n    <button @click=\"logout\">Logout</button>\n\n    <!-- Blog Post Form -->\n    <div class=\"blog-post-form\">\n      <h2>Post a Blog</h2>\n      <form @submit.prevent=\"submitPost\">\n        <label for=\"title\">Title:</label>\n        <input id=\"title\" v-model=\"postTitle\" type=\"text\" required />\n\n        <label for=\"content\">Content:</label>\n        <textarea id=\"content\" v-model=\"postContent\" required></textarea>\n\n        <button type=\"submit\">Submit</button>\n      </form>\n    </div>\n\n    <!-- User's Posts -->\n    <div class=\"user-posts\">\n      <h2>Your Posts</h2>\n      <ul>\n        <li v-for=\"post in posts\" :key=\"post.id\">\n          <h3>{{ post.title }}</h3>\n          <p>{{ post.content }}</p>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { getJwtToken } from \"@/utils\";\n\nexport default {\n  data() {\n    return {\n      user: null,\n      postTitle: \"\",\n      postContent: \"\",\n      posts: [], // Added to hold the user's posts\n    };\n  },\n  async created() {\n    const userId = localStorage.getItem(\"user\");\n    if (userId) {\n      const response = await axios.get(`/users/${userId}`);\n      this.user = response.data;\n      this.fetchUserPosts(); // Fetch posts after getting user data\n    }\n  },\n  methods: {\n    async fetchUserPosts() {\n      const jwtToken = getJwtToken();\n      try {\n        const response = await axios.get(`http://localhost:8081/posts/user/${this.user.id}`, {\n          headers: {\n            Authorization: `Bearer ${jwtToken}`\n          }\n        });\n        this.posts = response.data;\n      } catch (error) {\n        console.error(\"Error fetching user posts:\", error);\n      }\n    },\n    async submitPost() {\n      const jwtToken = getJwtToken();\n      await axios.post(\"http://localhost:8081/posts\", {\n        title: this.postTitle,\n        content: this.postContent,\n        jwtToken: jwtToken,\n      });\n      this.postTitle = \"\";\n      this.postContent = \"\";\n      this.fetchUserPosts(); // Refresh the list of posts after submitting\n    },\n    logout() {\n      // Implement logout functionality\n    }\n  },\n};\n</script>\n\n<style scoped>\n/* ... existing styles ... */\n\n.user-posts {\n  margin-top: 20px;\n}\n\n.user-posts h2 {\n  text-align: center;\n}\n\n.user-posts ul {\n  list-style-type: none;\n  padding: 0;\n}\n\n.user-posts li {\n  border: 1px solid #ccc;\n  margin-top: 10px;\n  padding: 10px;\n  border-radius: 5px;\n}\n</style>"],"mappings":";;gEAEIA,mBAAA,CAAqB,YAAjB,cAAY;;;;gEAEXA,mBAAA,CAAuB,gBAAf,QAAM;;EAKdC,KAAK,EAAC;AAAgB;gEACzBD,mBAAA,CAAoB,YAAhB,aAAW;gEAEbA,mBAAA,CAAiC;EAA1BE,GAAG,EAAC;AAAO,GAAC,QAAM;gEAGzBF,mBAAA,CAAqC;EAA9BE,GAAG,EAAC;AAAS,GAAC,UAAQ;gEAG7BF,mBAAA,CAAqC;EAA7BG,IAAI,EAAC;AAAQ,GAAC,QAAM;;EAK3BF,KAAK,EAAC;AAAY;iEACrBD,mBAAA,CAAmB,YAAf,YAAU;;;uBAvBlBI,mBAAA,CA+BM,cA9BJC,UAAqB,EACVC,KAAA,CAAAC,IAAI,I,cAAfH,mBAAA,CAEM,OAAAI,UAAA,GADJR,mBAAA,CAA+C,YAA5CS,UAAuB,E,iBAAA,GAAC,GAAAC,gBAAA,CAAGJ,KAAA,CAAAC,IAAI,CAACI,KAAK,iB,0CAE1CX,mBAAA,CAAuC;IAA9BY,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,MAAA,IAAAD,QAAA,CAAAC,MAAA,IAAAF,IAAA,CAAM;KAAE,QAAM,GAE9BG,mBAAA,oBAAuB,EACvBjB,mBAAA,CAWM,OAXNkB,UAWM,GAVJC,UAAoB,EACpBnB,mBAAA,CAQO;IARAoB,QAAM,EAAAP,MAAA,QAAAA,MAAA,MAAAQ,cAAA,KAAAP,IAAA,KAAUC,QAAA,CAAAO,UAAA,IAAAP,QAAA,CAAAO,UAAA,IAAAR,IAAA,CAAU;MAC/BS,UAAiC,E,gBACjCvB,mBAAA,CAA6D;IAAtDwB,EAAE,EAAC,OAAO;+DAAUlB,KAAA,CAAAmB,SAAS,GAAAC,MAAA;IAAEvB,IAAI,EAAC,MAAM;IAACwB,QAAQ,EAAR;iDAAvBrB,KAAA,CAAAmB,SAAS,E,GAEpCG,UAAqC,E,gBACrC5B,mBAAA,CAAiE;IAAvDwB,EAAE,EAAC,SAAS;+DAAUlB,KAAA,CAAAuB,WAAW,GAAAH,MAAA;IAAEC,QAAQ,EAAR;iDAAbrB,KAAA,CAAAuB,WAAW,E,GAE3CC,UAAqC,C,8BAIzCb,mBAAA,kBAAqB,EACrBjB,mBAAA,CAQM,OARN+B,UAQM,GAPJC,WAAmB,EACnBhC,mBAAA,CAKK,c,kBAJHI,mBAAA,CAGK6B,SAAA,QAAAC,WAAA,CAHc5B,KAAA,CAAA6B,KAAK,EAAbC,IAAI;yBAAfhC,mBAAA,CAGK;MAHsBiC,GAAG,EAAED,IAAI,CAACZ;QACnCxB,mBAAA,CAAyB,YAAAU,gBAAA,CAAlB0B,IAAI,CAACE,KAAK,kBACjBtC,mBAAA,CAAyB,WAAAU,gBAAA,CAAnB0B,IAAI,CAACG,OAAO,iB"},"metadata":{},"sourceType":"module","externalDependencies":[]}