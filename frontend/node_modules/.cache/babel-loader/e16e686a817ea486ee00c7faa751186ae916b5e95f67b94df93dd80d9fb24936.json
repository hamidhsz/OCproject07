{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-434b6d43\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"User Profile\", -1 /* HOISTED */));\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Email:\", -1 /* HOISTED */));\nconst _hoisted_4 = {\n  class: \"blog-post-form\"\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Post a Blog\", -1 /* HOISTED */));\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"title\"\n}, \"Title:\", -1 /* HOISTED */));\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"content\"\n}, \"Content:\", -1 /* HOISTED */));\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\"\n}, \"Submit\", -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_hoisted_1, $data.user ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createElementVNode(\"p\", null, [_hoisted_3, _createTextVNode(\" \" + _toDisplayString($data.user.email), 1 /* TEXT */)])])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.logout && _ctx.logout(...args))\n  }, \"Logout\"), _createCommentVNode(\" Blog Post Form \"), _createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _createElementVNode(\"form\", {\n    onSubmit: _cache[4] || (_cache[4] = _withModifiers((...args) => $options.submitPost && $options.submitPost(...args), [\"prevent\"])),\n    enctype: \"multipart/form-data\"\n  }, [_hoisted_6, _withDirectives(_createElementVNode(\"input\", {\n    id: \"title\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.postTitle = $event),\n    type: \"text\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.postTitle]]), _createElementVNode(\"input\", {\n    type: \"file\",\n    onChange: _cache[2] || (_cache[2] = (...args) => $options.uploadFile && $options.uploadFile(...args)),\n    ref: \"file\"\n  }, null, 544 /* HYDRATE_EVENTS, NEED_PATCH */), _hoisted_7, _withDirectives(_createElementVNode(\"textarea\", {\n    id: \"content\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.postContent = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.postContent]]), _hoisted_8], 32 /* HYDRATE_EVENTS */)])]);\n}","map":{"version":3,"names":["_createElementVNode","class","for","type","_createElementBlock","_hoisted_1","$data","user","_hoisted_2","_hoisted_3","_toDisplayString","email","onClick","_cache","args","_ctx","logout","_createCommentVNode","_hoisted_4","_hoisted_5","onSubmit","_withModifiers","$options","submitPost","enctype","_hoisted_6","id","postTitle","$event","required","onChange","uploadFile","ref","_hoisted_7","postContent","_hoisted_8"],"sources":["/Users/Hamid/Coding/OC/Project07/Aug07 - sqlite/OCproject07/frontend/src/views/UserProfilePage.vue"],"sourcesContent":["<template>\n  <div>\n    <h1>User Profile</h1>\n    <div v-if=\"user\">\n      <p><strong>Email:</strong> {{ user.email }}</p>\n    </div>\n    <button @click=\"logout\">Logout</button>\n\n    <!-- Blog Post Form -->\n    <div class=\"blog-post-form\">\n      <h2>Post a Blog</h2>\n      <form @submit.prevent=\"submitPost\" enctype=\"multipart/form-data\">\n        <label for=\"title\">Title:</label>\n        <input id=\"title\" v-model=\"postTitle\" type=\"text\" required />\n        <input type=\"file\" @change=\"uploadFile\" ref=\"file\" />\n        <label for=\"content\">Content:</label>\n        <textarea id=\"content\" v-model=\"postContent\" required></textarea>\n\n        <button type=\"submit\">Submit</button>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { getJwtToken } from \"@/utils\";\n\nexport default {\n  data() {\n    return {\n      user: null,\n      postTitle: \"\",\n      postContent: \"\",\n      image: null,\n    };\n  },\n  async created() {\n    const userId = localStorage.getItem(\"user\");\n    if (userId) {\n      const response = await axios.get(`/users/${userId}`);\n      this.user = response.data;\n    }\n  },\n  methods: {\n    // TODO: Add jwt token to request to validate user on the backend\n    uploadFile(input) {\n      console.log(input.currentTarget.files[0]);\n      this.image = this.$refs.file.files[0];\n    },\n    async submitPost() {\n      const jwtToken = getJwtToken();\n      console.log(\"AXIOS: \", this);\n      await axios.post(\"http://localhost:8081/posts\", {\n        title: this.postTitle,\n        content: this.postContent,\n        image: this.image,\n        jwtToken: jwtToken,\n      });\n      this.postTitle = \"\";\n      this.postContent = \"\";\n    },\n  },\n};\n</script>\n\n<style scoped>\n.blog-post-form {\n  width: 80%;\n  margin: 0 auto;\n  padding: 20px;\n  border: 1px solid #ccc;\n  border-radius: 10px;\n}\n\n.blog-post-form h2 {\n  text-align: center;\n}\n\n.blog-post-form form {\n  display: flex;\n  flex-direction: column;\n}\n\n.blog-post-form label {\n  margin-top: 10px;\n}\n\n.blog-post-form input,\n.blog-post-form textarea {\n  margin-top: 5px;\n  padding: 10px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n}\n\n.blog-post-form button {\n  margin-top: 10px;\n  padding: 10px 20px;\n  border: none;\n  border-radius: 5px;\n  background-color: #007bff;\n  color: white;\n  cursor: pointer;\n}\n\n.blog-post-form button:hover {\n  background-color: #0056b3;\n}\n</style>\n"],"mappings":";;gEAEIA,mBAAA,CAAqB,YAAjB,cAAY;;;;gEAEXA,mBAAA,CAAuB,gBAAf,QAAM;;EAKdC,KAAK,EAAC;AAAgB;gEACzBD,mBAAA,CAAoB,YAAhB,aAAW;gEAEbA,mBAAA,CAAiC;EAA1BE,GAAG,EAAC;AAAO,GAAC,QAAM;gEAGzBF,mBAAA,CAAqC;EAA9BE,GAAG,EAAC;AAAS,GAAC,UAAQ;gEAG7BF,mBAAA,CAAqC;EAA7BG,IAAI,EAAC;AAAQ,GAAC,QAAM;;;uBAjBlCC,mBAAA,CAoBM,cAnBJC,UAAqB,EACVC,KAAA,CAAAC,IAAI,I,cAAfH,mBAAA,CAEM,OAAAI,UAAA,GADJR,mBAAA,CAA+C,YAA5CS,UAAuB,E,iBAAA,GAAC,GAAAC,gBAAA,CAAGJ,KAAA,CAAAC,IAAI,CAACI,KAAK,iB,0CAE1CX,mBAAA,CAAuC;IAA9BY,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,IAAA,CAAAC,MAAA,IAAAD,IAAA,CAAAC,MAAA,IAAAF,IAAA,CAAM;KAAE,QAAM,GAE9BG,mBAAA,oBAAuB,EACvBjB,mBAAA,CAWM,OAXNkB,UAWM,GAVJC,UAAoB,EACpBnB,mBAAA,CAQO;IARAoB,QAAM,EAAAP,MAAA,QAAAA,MAAA,MAAAQ,cAAA,KAAAP,IAAA,KAAUQ,QAAA,CAAAC,UAAA,IAAAD,QAAA,CAAAC,UAAA,IAAAT,IAAA,CAAU;IAAEU,OAAO,EAAC;MACzCC,UAAiC,E,gBACjCzB,mBAAA,CAA6D;IAAtD0B,EAAE,EAAC,OAAO;+DAAUpB,KAAA,CAAAqB,SAAS,GAAAC,MAAA;IAAEzB,IAAI,EAAC,MAAM;IAAC0B,QAAQ,EAAR;iDAAvBvB,KAAA,CAAAqB,SAAS,E,GACpC3B,mBAAA,CAAqD;IAA9CG,IAAI,EAAC,MAAM;IAAE2B,QAAM,EAAAjB,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEQ,QAAA,CAAAS,UAAA,IAAAT,QAAA,CAAAS,UAAA,IAAAjB,IAAA,CAAU;IAAEkB,GAAG,EAAC;kDAC5CC,UAAqC,E,gBACrCjC,mBAAA,CAAiE;IAAvD0B,EAAE,EAAC,SAAS;+DAAUpB,KAAA,CAAA4B,WAAW,GAAAN,MAAA;IAAEC,QAAQ,EAAR;iDAAbvB,KAAA,CAAA4B,WAAW,E,GAE3CC,UAAqC,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}