{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { RouterView } from \"vue-router\";\nimport { getJwtToken } from \"@/utils\";\nimport { computed } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { watch } from 'vue';\nexport default {\n  __name: 'App',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const isLoggedIn = computed(() => !!getJwtToken());\n    const router = useRouter();\n    watch(() => router.currentRoute, () => {\n      isLoggedIn.value = !!getJwtToken();\n    });\n    const logout = () => {\n      sessionStorage.removeItem('jwt');\n      isLoggedIn.value = false;\n      router.push('/login');\n    };\n    const __returned__ = {\n      isLoggedIn,\n      router,\n      logout,\n      get RouterView() {\n        return RouterView;\n      },\n      get getJwtToken() {\n        return getJwtToken;\n      },\n      computed,\n      get useRouter() {\n        return useRouter;\n      },\n      watch\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["RouterView","getJwtToken","computed","useRouter","watch","isLoggedIn","router","currentRoute","value","logout","sessionStorage","removeItem","push"],"sources":["/Users/Hamid/Coding/OC/Project07/Aug07 - sqlite/OCproject07/frontend/src/App.vue"],"sourcesContent":["<script setup>\nimport {RouterView} from \"vue-router\";\nimport {getJwtToken} from \"@/utils\"; \nimport { computed } from 'vue';\nimport { useRouter } from 'vue-router';\nimport {watch} from 'vue';\n\nconst isLoggedIn = computed(() => !!getJwtToken());\nconst router = useRouter();\n\nwatch(()=> router.currentRoute,() => {\n  isLoggedIn.value = !!getJwtToken();\n});\n\nconst logout = () => {\n  sessionStorage.removeItem('jwt');\n  isLoggedIn.value = false;\n  router.push('/login');\n};\n</script>\n\n<template>\n  <main>\n    <div class=\"links\">\n      <a href=\"/\">Home</a>\n      <a href=\"/login\" v-if=\"!isLoggedIn\">Log In</a>\n      <a href=\"/register\" v-if=\"!isLoggedIn\">Sign Up</a>\n      <a href=\"#\" @click=\"logout\" v-if=\"isLoggedIn\">Log Out</a>\n    </div>\n    <RouterView />\n  </main>\n</template>\n\n<style scoped>\n.links {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: #007bff;\n  color: #fff;\n  padding: 10px;\n}\n\n.links a {\n  text-decoration: none;\n  color: #fff;\n  margin: 0 10px;\n}\n\n.links a:hover {\n  text-decoration: underline;\n}\n</style>"],"mappings":";AACA,SAAQA,UAAU,QAAO,YAAY;AACrC,SAAQC,WAAW,QAAO,SAAS;AACnC,SAASC,QAAQ,QAAQ,KAAK;AAC9B,SAASC,SAAS,QAAQ,YAAY;AACtC,SAAQC,KAAK,QAAO,KAAK;;;;;;;IAEzB,MAAMC,UAAU,GAAGH,QAAQ,CAAC,MAAM,CAAC,CAACD,WAAW,CAAC,CAAC,CAAC;IAClD,MAAMK,MAAM,GAAGH,SAAS,CAAC,CAAC;IAE1BC,KAAK,CAAC,MAAKE,MAAM,CAACC,YAAY,EAAC,MAAM;MACnCF,UAAU,CAACG,KAAK,GAAG,CAAC,CAACP,WAAW,CAAC,CAAC;IACpC,CAAC,CAAC;IAEF,MAAMQ,MAAM,GAAGA,CAAA,KAAM;MACnBC,cAAc,CAACC,UAAU,CAAC,KAAK,CAAC;MAChCN,UAAU,CAACG,KAAK,GAAG,KAAK;MACxBF,MAAM,CAACM,IAAI,CAAC,QAAQ,CAAC;IACvB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}